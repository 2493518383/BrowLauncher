
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}}</title>
    <link rel="stylesheet" href="/static/css/main.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Dscan攻击面管理系统 - 扫描报告</h1>
            <div class="nav">
                <a href="/">首页</a>
                <a href="/logs">日志</a>
                <a href="/reports">报告</a>
                <a href="/scan">新建扫描</a>
                <a href="/scheduled-tasks">定时任务</a>
                <a href="/search_engine">搜索引擎</a>
            </div>
        </div>
        
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h2 style="margin: 0;">可用报告列表</h2>
                <div>
                    <span class="badge" style="background-color: #e3f2fd; color: #1976d2;">
                        共 {{len .Reports}} 个报告
                    </span>
                </div>
            </div>
            
            {{if .Reports}}
                <table class="table">
                    <thead>
                        <tr>
                            <th style="width: 5%;">#</th>
                            <th style="width: 65%;">报告名称</th>
                            <th style="width: 30%;">操作</th>
                        </tr>
                    </thead>
                    <tbody>
                    {{range $index, $report := .Reports}}
                        <tr>
                            <td>{{add $index 1}}</td>
                            <td>{{$report}}</td>
                            <td>
                                <a href="/reports/{{$report}}" class="btn btn-secondary" style="margin-right: 5px;">下载</a>
                                <a href="/reports/{{$report}}" class="btn" target="_blank">在新窗口打开</a>
                            </td>
                        </tr>
                    {{end}}
                    </tbody>
                </table>
            {{else}}
                <div class="alert">
                    <p>当前没有可用的报告文件</p>
                    <p>运行扫描任务后，生成的HTML报告将会显示在这里</p>
                </div>
            {{end}}
        </div>
        
        <div class="footer">
            <p>https://github.com/kk12-30/Dscan</p>
        </div>
    </div>

    <script>
    // 添加一个函数用于模板中的加法运算
    function add(a, b) {
        return a + b;
    }
    </script>
</body>
</html>
